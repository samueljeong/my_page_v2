<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Images - Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a2e;
            color: #eee;
            min-height: 100vh;
        }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #333;
        }
        h1 { font-size: 24px; color: #fff; }
        .back-btn {
            background: #333;
            border: none;
            color: #fff;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            text-decoration: none;
            font-size: 14px;
        }
        .back-btn:hover { background: #444; }

        /* Filter */
        .filter-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .filter-group {
            display: flex;
            gap: 5px;
            padding: 5px;
            background: #16213e;
            border-radius: 25px;
        }
        .filter-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            background: transparent;
            color: #888;
            cursor: pointer;
            font-size: 13px;
        }
        .filter-btn.active { background: #3b82f6; color: #fff; }
        .filter-btn:hover:not(.active) { color: #fff; }
        .filter-btn.type-thumb.active { background: #f59e0b; color: #000; }
        .filter-btn.type-scene.active { background: #10b981; color: #fff; }

        /* Image Sections */
        .images-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        @media (max-width: 900px) {
            .images-grid { grid-template-columns: 1fr; }
        }
        .image-section {
            background: #16213e;
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #333;
        }
        .section-header {
            font-size: 14px;
            color: #888;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .section-header .icon { font-size: 16px; }
        .section-header .count {
            background: #333;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            color: #666;
            margin-left: auto;
        }

        /* Image Grid */
        .image-grid {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-height: 70vh;
            overflow-y: auto;
        }
        .episode-group {
            background: #0d1117;
            border-radius: 8px;
            padding: 15px;
        }
        .episode-header {
            font-size: 13px;
            font-weight: 600;
            color: #3b82f6;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .ep-count {
            background: #333;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            color: #888;
            font-weight: normal;
        }
        .episode-images {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 10px;
        }
        .image-card {
            background: #16213e;
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid #333;
            cursor: pointer;
            transition: all 0.2s;
        }
        .image-card:hover { border-color: #3b82f6; transform: scale(1.02); }
        .image-wrapper {
            aspect-ratio: 16/9;
            overflow: hidden;
            background: #0d1117;
        }
        .image-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        .image-card:hover .image-wrapper img { transform: scale(1.05); }
        .image-info {
            padding: 8px 10px;
        }
        .image-name {
            font-size: 11px;
            color: #888;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .image-meta {
            display: flex;
            gap: 8px;
        }
        .image-badge {
            padding: 3px 10px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 600;
        }
        .badge-thumb { background: #f59e0b; color: #000; }
        .badge-scene { background: #10b981; color: #fff; }
        .badge-history { background: #3b82f6; color: #fff; }
        .badge-isekai { background: #8b5cf6; color: #fff; }
        .badge-bible { background: #10b981; color: #fff; }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            padding: 40px;
            overflow-y: auto;
        }
        .modal.show { display: flex; align-items: center; justify-content: center; }
        .modal-content {
            max-width: 90vw;
            max-height: 90vh;
            position: relative;
        }
        .modal-content img {
            max-width: 100%;
            max-height: 85vh;
            border-radius: 8px;
        }
        .modal-close {
            position: absolute;
            top: -40px;
            right: 0;
            background: none;
            border: none;
            color: #fff;
            font-size: 30px;
            cursor: pointer;
        }
        .modal-info {
            margin-top: 15px;
            text-align: center;
            color: #888;
        }

        .empty-state {
            text-align: center;
            padding: 60px;
            color: #666;
            grid-column: 1 / -1;
        }

        /* Agent Prompts */
        .agent-prompts {
            background: #16213e;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 1px solid #333;
            overflow: hidden;
        }
        .prompts-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            cursor: pointer;
            user-select: none;
            transition: background 0.2s;
        }
        .prompts-header:hover { background: #1e3a5f; }
        .prompts-header h3 {
            font-size: 14px;
            color: #fff;
            margin: 0;
        }
        .prompts-toggle {
            font-size: 12px;
            color: #666;
            transition: transform 0.3s;
        }
        .prompts-toggle.open { transform: rotate(180deg); }
        .prompts-body {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .prompts-body.open { max-height: 2000px; }
        .prompts-body-inner { padding: 0 20px 20px 20px; }
        .prompt-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            border-bottom: 1px solid #333;
            padding-bottom: 15px;
        }
        .prompt-tab {
            padding: 10px 20px;
            background: transparent;
            border: 1px solid #333;
            border-radius: 8px;
            color: #888;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.2s;
        }
        .prompt-tab:hover { border-color: #10b981; color: #fff; }
        .prompt-tab.active {
            background: #10b981;
            border-color: #10b981;
            color: #fff;
        }
        .prompt-content { display: block; }
        .prompt-content.hidden { display: none; }
        .prompt-lang {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .prompt-box {
            background: #0d1117;
            border-radius: 8px;
            padding: 15px;
            border: 1px solid #333;
        }
        .prompt-label {
            font-size: 12px;
            font-weight: 600;
            color: #888;
            margin-bottom: 10px;
        }
        .prompt-text {
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 11px;
            line-height: 1.6;
            color: #aaa;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
        @media (max-width: 768px) {
            .prompt-lang { grid-template-columns: 1fr; }
        }

        /* Stats */
        .stats-bar {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            padding: 15px;
            background: #16213e;
            border-radius: 8px;
        }
        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .stat-value { font-size: 20px; font-weight: 700; color: #fff; }
        .stat-label { font-size: 12px; color: #666; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Images (ì¸ë„¤ì¼/ì”¬)</h1>
            <a href="/dashboard" class="back-btn">Back to Dashboard</a>
        </header>

        <!-- Agent Prompts -->
        <div class="agent-prompts">
            <div class="prompts-header" onclick="togglePrompts(this)">
                <h3>Image Agent Prompts</h3>
                <span class="prompts-toggle">â–¼</span>
            </div>
            <div class="prompts-body">
                <div class="prompts-body-inner">
                    <div class="prompt-tabs">
                        <button class="prompt-tab active" data-tab="thumbnail">Thumbnail Guide</button>
                        <button class="prompt-tab" data-tab="scene">Scene Image Agent</button>
                        <button class="prompt-tab" data-tab="style">History Style (í•œêµ­ì‚¬)</button>
                        <button class="prompt-tab" data-tab="isekai">Isekai Style (ì´ì„¸ê³„)</button>
                    </div>

                    <div class="prompt-content" id="prompt-thumbnail">
                <div class="prompt-lang">
                    <div class="prompt-box" style="grid-column: 1 / -1;">
                        <div class="prompt-label">ì¸ë„¤ì¼ ê°€ì´ë“œ <span style="font-weight:normal;color:#666;font-size:10px;">(scripts/history_pipeline/agents/image_agent.py)</span></div>
                        <div class="prompt-text" style="max-height:400px;">â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… ì¸ë„¤ì¼ êµ¬ì„± ìš”ì†Œ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€í…ìŠ¤íŠ¸ ë¬¸êµ¬ã€‘
- 2ì¤„ êµ¬ì„± (ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)
- 1ì¤„ë‹¹ 7ì ì´ë‚´ ê¶Œì¥ (10ì ì´ˆê³¼ ê¸ˆì§€)
- ì§§ê³  ì„íŒ©íŠ¸ ìˆê²Œ
- ì§ˆë¬¸í˜• ë˜ëŠ” ê°íƒ„í˜•

ì˜ˆì‹œ:
```
18ì„¸ ì™•ì˜
ì²« ì¶œì •
```

```
ìˆ¨ê²¨ì§„ ì§„ì‹¤
ë°í˜€ì§€ë‹¤
```

ã€ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ã€‘
- ì‹œëŒ€ë³„ ìŠ¤íƒ€ì¼ í”„ë¦¬ì…‹ ì ìš©
- ê°€ì¥ ì„íŒ©íŠ¸ ìˆëŠ” ì¥ë©´ ì„ íƒ
- ì¸ë¬¼ í´ë¡œì¦ˆì—… ë˜ëŠ” ê·¹ì ì¸ ìˆœê°„
- ì‹œì„ ì„ ì‚¬ë¡œì¡ëŠ” êµ¬ë„

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… ì¸ë„¤ì¼ êµ¬ë„ íŒ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… ê¶Œì¥:
- ì¤‘ì•™ì— í•µì‹¬ ì¸ë¬¼/ìƒì§• ë°°ì¹˜
- 1/3 ì§€ì ì— í…ìŠ¤íŠ¸ ì˜ì—­ í™•ë³´
- ê³ ëŒ€ë¹„ ìƒ‰ìƒìœ¼ë¡œ ê°€ë…ì„± í™•ë³´

âŒ í”¼í•´ì•¼ í•  ê²ƒ:
- ë³µì¡í•œ ë°°ê²½
- ì‘ì€ ê¸€ì”¨
- ì—¬ëŸ¬ ì¸ë¬¼ ë™ì‹œ ë“±ì¥

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… ì˜ë¬¸ í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ (Gemini/DALL-E)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Portrait of a young Korean king in his late teens,
wearing traditional Goguryeo royal armor,
dramatic rim lighting,
historical painting style,
heroic expression,
Three Kingdoms period Korea,
dynamic composition,
no text, no watermark,
16:9 aspect ratio, high resolution</div>
                    </div>
                </div>
            </div>

            <div class="prompt-content hidden" id="prompt-scene">
                <div class="prompt-lang">
                    <div class="prompt-box" style="grid-column: 1 / -1;">
                        <div class="prompt-label">ì”¬ ì´ë¯¸ì§€ ì—ì´ì „íŠ¸ <span style="font-weight:normal;color:#666;font-size:10px;">(scripts/history_pipeline/script_generator.py - IMAGE_PROMPT_SYSTEM)</span></div>
                        <div class="prompt-text" style="max-height:450px;">â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ê·œì¹™ (ì˜ë¬¸ í•„ìˆ˜!)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ìŠ¤íƒ€ì¼ ê³ ì • (ì—­ì‚¬ ë‹¤íë©˜í„°ë¦¬)ã€‘
- "Korean historical documentary style"
- "Cinematic wide shot, dramatic lighting"
- "Realistic oil painting style" OR "Historical illustration"
- "Period-accurate Korean costumes and architecture"
- "16:9 aspect ratio, high resolution"
- "No text, no letters, no words, no watermarks"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… ì”¬ ìœ í˜•ë³„ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€1. ì¸ë¬¼ ì¥ë©´ (character_portrait)ã€‘
Portrait of [historical figure description],
wearing [period costume],
[expression], dramatic rim lighting,
historical painting style

ã€2. ì „íˆ¬ ì¥ë©´ (action_scene)ã€‘
Epic battle scene, [army description],
[location], dust and smoke,
dynamic composition, cinematic wide shot

ã€3. ê¶ì •/ì •ì¹˜ ì¥ë©´ (narrative_scene)ã€‘
Royal court of [dynasty],
[king/officials] in formal attire,
grand throne room, candlelight,
solemn atmosphere

ã€4. í’ê²½/ì§€ë„ ì¥ë©´ (establishing_shot)ã€‘
Aerial view of ancient Korea,
[specific location], misty mountains,
traditional architecture, golden hour lighting

ã€5. ë¬¸í™”ì¬/ìœ ë¬¼ ì¥ë©´ (cultural_artifact)ã€‘
Close-up of [artifact],
museum lighting, detailed texture,
historical significance

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… ì´ë¯¸ì§€ ê°œìˆ˜ ê³„ì‚° (ìë™)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ëŒ€ë³¸ ê¸¸ì´ ê¸°ì¤€ (910ì = 1ë¶„):
- 8ë¶„ ë¯¸ë§Œ: 5ê°œ
- 8-10ë¶„: 8ê°œ
- 10-15ë¶„: 11ê°œ
- 15ë¶„ ì´ìƒ: 12ê°œ

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… ì ˆëŒ€ ê¸ˆì§€
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âŒ í•œê¸€ ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ (ì˜ë¬¸ë§Œ!)
âŒ í…ìŠ¤íŠ¸/ê¸€ì í¬í•¨ ìš”ì²­
âŒ í˜„ëŒ€ì  ìš”ì†Œ (í˜„ëŒ€ ê±´ë¬¼, ì˜ìƒ ë“±)
âŒ ë¶€ì •í™•í•œ ì‹œëŒ€ ê³ ì¦
âŒ í­ë ¥ì /ì„ ì •ì  ë¬˜ì‚¬

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… JSON ì¶œë ¥ í˜•ì‹
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{
  "scenes": [
    {
      "scene_number": 1,
      "scene_title": "ì”¬ ì œëª© (í•œê¸€)",
      "narration_preview": "ì´ ì”¬ì˜ ë‚˜ë ˆì´ì…˜ ì²« 50ì...",
      "image_prompt": "English image prompt..."
    }
  ],
  "thumbnail": {
    "image_prompt": "English thumbnail prompt..."
  }
}</div>
                    </div>
                </div>
            </div>

            <div class="prompt-content hidden" id="prompt-style">
                <div class="prompt-lang">
                    <div class="prompt-box" style="grid-column: 1 / -1;">
                        <div class="prompt-label">ì‹œëŒ€ë³„ ìŠ¤íƒ€ì¼ í”„ë¦¬ì…‹ <span style="font-weight:normal;color:#666;font-size:10px;">(ERA_STYLE_PRESETS)</span></div>
                        <div class="prompt-text" style="max-height:450px;">â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… ì‹œëŒ€ë³„ ìŠ¤íƒ€ì¼ í”„ë¦¬ì…‹
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ê³ ì¡°ì„  (Bronze Age)ã€‘
- style: mythological, ancient Korean, bronze age aesthetic
- color: earth tones, bronze, deep blue
- mood: mysterious, legendary, primordial

ã€ì‚¼êµ­ì‹œëŒ€ (Three Kingdoms)ã€‘
- style: Three Kingdoms period Korea, traditional East Asian art
- color: gold, red, forest green
- mood: heroic, dynamic, martial

ã€í†µì¼ì‹ ë¼ (Unified Silla)ã€‘
- style: Unified Silla period, Buddhist influenced art
- color: gold, jade green, royal purple
- mood: refined, spiritual, prosperous

ã€ë°œí•´ (Balhae)ã€‘
- style: Balhae kingdom, northern Korean aesthetics
- color: dark blue, white, silver
- mood: vast, powerful, frontier

ã€ê³ ë ¤ (Goryeo)ã€‘
- style: Goryeo dynasty, Buddhist and aristocratic
- color: celadon green, gold, deep red
- mood: elegant, spiritual, cultured

ã€ì¡°ì„  ì „ê¸° (Early Joseon)ã€‘
- style: early Joseon dynasty, Confucian aesthetics
- color: white, black, muted colors
- mood: austere, dignified, scholarly

ã€ì¡°ì„  ì¤‘ê¸° (Mid Joseon)ã€‘
- style: mid Joseon dynasty, classical Korean painting
- color: ink wash, subtle colors
- mood: contemplative, refined, literary

ã€ì¡°ì„  í›„ê¸° (Late Joseon)ã€‘
- style: late Joseon, folk painting (minhwa) style
- color: vibrant primary colors
- mood: lively, expressive, populist

ã€ëŒ€í•œì œêµ­ (Korean Empire)ã€‘
- style: Korean Empire period, East-West fusion
- color: imperial yellow, western influences
- mood: transitional, modernizing, proud

ã€ì¼ì œê°•ì ê¸° (Colonial Period)ã€‘
- style: Japanese colonial period, historical photography style
- color: sepia, muted, somber
- mood: resistant, sorrowful, enduring

ã€í˜„ëŒ€ ëŒ€í•œë¯¼êµ­ (Modern Korea)ã€‘
- style: modern Korea, documentary photography
- color: realistic, full color
- mood: dynamic, progressive, hopeful

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… í”„ë¡¬í”„íŠ¸ì— ì‹œëŒ€ ìŠ¤íƒ€ì¼ ì ìš© ì˜ˆì‹œ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ì›ë³¸: "A Korean king giving orders to his generals"

ì‚¼êµ­ì‹œëŒ€ ì ìš©:
"Three Kingdoms period Korea, traditional East Asian art,
heroic, dynamic, martial atmosphere,
gold, red, forest green color palette,
A Korean king giving orders to his generals,
no text, no watermark, no modern elements,
historically accurate"</div>
                            </div>
                        </div>
                    </div>

                    <div class="prompt-content hidden" id="prompt-isekai">
                        <div class="prompt-lang">
                            <div class="prompt-box" style="grid-column: 1 / -1;">
                                <div class="prompt-label">ğŸ—¡ï¸ Isekai ìŠ¤íƒ€ì¼ ê°€ì´ë“œ <span style="font-weight:normal;color:#666;font-size:10px;">(scripts/isekai_pipeline/config.py - IMAGE_STYLE)</span></div>
                                <div class="prompt-text" style="max-height:450px;">â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… Isekai (í˜ˆì˜ ì´ì„¸ê³„í¸) ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ê¸°ë³¸ ìŠ¤íƒ€ì¼ã€‘
- style: western_fantasy_illustration
- aspect_ratio: 16:9
- quality: masterpiece, high detail

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… ê¸°ë³¸ í”„ë¡¬í”„íŠ¸
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

"Western fantasy illustration style,
dramatic cinematic lighting,
detailed background,
16:9 aspect ratio, masterpiece quality"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… ë„¤ê±°í‹°ë¸Œ í”„ë¡¬í”„íŠ¸
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

"text, letters, words, writing, watermark, signature,
anime style, cartoon, chibi,
low quality, blurry, deformed,
modern clothes, contemporary fashion"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… ì£¼ìš” ìºë¦­í„° ì™¸ëª¨ (ì˜ë¬¸)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ë¬´ì˜ (ì£¼ì¸ê³µ)ã€‘
"Young East Asian man, early 20s,
sharp angular features, intense dark eyes,
messy black hair in a loose ponytail,
lean muscular build, wearing simple traveler's clothes,
subtle scars on hands, determined cold expression"

ã€ì—ì´ë¼ (íˆë¡œì¸)ã€‘
"Half-elf woman, appears early 20s,
silver-white hair, slightly pointed ears,
cold beautiful features, pale blue eyes,
slender build, wearing practical mage robes
in blue and white"

ã€ì¹´ì´ë“  (ë™ë£Œ)ã€‘
"Young Western man, mid 20s,
honest round face, short brown hair,
friendly eyes, sturdy build,
wearing soldier's uniform or simple armor"

ã€ì´ê·¸ë‹ˆìŠ¤ (ë“œë˜ê³¤ ì¸ê°„í˜•)ã€‘
"Young man appearance, fiery red hair,
golden reptilian eyes, sharp features,
confident smirk, wearing red and gold clothes,
subtle dragon scales on neck"

ã€ì´ê·¸ë‹ˆìŠ¤ (ë“œë˜ê³¤í˜•)ã€‘
"Massive red dragon, scales like molten metal,
golden eyes, powerful wings, flame aura"

ã€í˜ˆë§ˆ (ë¹ŒëŸ°)ã€‘
"East Asian man, 30s, cruel handsome features,
long black hair, eyes glowing with dark energy,
wearing ornate black and red armor,
dark magical aura, menacing presence"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… ì„¸ê³„ê´€ ë°°ê²½ (Artesia ëŒ€ë¥™)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ì¼ë°˜ ë°°ê²½ã€‘
- Western fantasy medieval setting
- Stone castles, ancient forests
- Magical atmosphere
- High fantasy architecture

ã€ì „íˆ¬ ì”¬ã€‘
- Epic battle atmosphere
- Sword aura, magical effects
- Dynamic action poses
- Dramatic lighting

ã€ë§ˆë²• ì”¬ã€‘
- Glowing mana circles
- Elemental effects (fire, ice, lightning)
- Mystical atmosphere
- Ethereal lighting

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â˜… í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ (ì™„ì„±í˜•)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ì•¡ì…˜ ì”¬ã€‘
"Western fantasy illustration style,
dramatic cinematic lighting,
Young East Asian swordsman with messy black hair,
intense dark eyes, lean muscular build,
performing a devastating sword strike,
sword aura emanating from blade,
dark forest background, moonlight,
masterpiece quality, 16:9 aspect ratio,
no text, no watermark"

ã€ëŒ€í™” ì”¬ã€‘
"Western fantasy illustration style,
Half-elf woman with silver-white hair
and pale blue eyes, elegant mage robes,
talking to young East Asian man
in a medieval tavern setting,
warm candlelight, detailed background,
masterpiece quality, 16:9 aspect ratio,
no text, no watermark"</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="filter-bar">
            <div class="filter-group">
                <button class="filter-btn active" data-filter="pipeline" data-value="all">All</button>
                <button class="filter-btn" data-filter="pipeline" data-value="history">History</button>
                <button class="filter-btn" data-filter="pipeline" data-value="isekai">Isekai</button>
                <button class="filter-btn" data-filter="pipeline" data-value="bible">Bible</button>
            </div>
        </div>

        <div class="images-grid">
            <!-- Thumbnails -->
            <div class="image-section">
                <div class="section-header">
                    <span class="icon">ğŸ–¼ï¸</span>
                    <span>Thumbnails</span>
                    <span class="count" id="thumb-count">0</span>
                </div>
                <div class="image-grid" id="thumb-grid">
                    <div class="empty-state">Loading...</div>
                </div>
            </div>

            <!-- Scenes -->
            <div class="image-section">
                <div class="section-header">
                    <span class="icon">ğŸ¬</span>
                    <span>Scenes</span>
                    <span class="count" id="scene-count">0</span>
                </div>
                <div class="image-grid" id="scene-grid">
                    <div class="empty-state">Loading...</div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <img id="modal-img" src="" alt="">
            <div class="modal-info" id="modal-info"></div>
        </div>
    </div>

    <script>
        let allImages = [];
        let pipelineFilter = 'all';

        async function fetchImages() {
            try {
                const res = await fetch('/api/dashboard/images?limit=200');
                const data = await res.json();
                allImages = data.images || [];
                renderImages();
            } catch (e) {
                document.getElementById('thumb-grid').innerHTML = '<div class="empty-state">Failed to load</div>';
                document.getElementById('scene-grid').innerHTML = '<div class="empty-state">Failed to load</div>';
            }
        }

        function renderImages() {
            let images = allImages;

            if (pipelineFilter !== 'all') {
                images = images.filter(i => i.pipeline === pipelineFilter);
            }

            const thumbs = images.filter(i => i.type === 'thumb');
            const scenes = images.filter(i => i.type === 'scene');

            // Update counts
            document.getElementById('thumb-count').textContent = thumbs.length;
            document.getElementById('scene-count').textContent = scenes.length;

            // Render thumbnails (grouped by episode)
            const thumbContainer = document.getElementById('thumb-grid');
            thumbContainer.innerHTML = renderGroupedImages(thumbs);

            // Render scenes (grouped by episode)
            const sceneContainer = document.getElementById('scene-grid');
            sceneContainer.innerHTML = renderGroupedImages(scenes);
        }

        function getEpisodeFromName(name) {
            // ep019_scene_27.png -> EP019
            const match = name.match(/ep(\d+)/i);
            return match ? `EP${match[1].padStart(3, '0')}` : 'Other';
        }

        function renderGroupedImages(images) {
            if (images.length === 0) {
                return '<div class="empty-state">No images</div>';
            }

            // Group by episode
            const groups = {};
            images.forEach(img => {
                const ep = getEpisodeFromName(img.name);
                if (!groups[ep]) groups[ep] = [];
                groups[ep].push(img);
            });

            // Sort episodes descending (EP021 first)
            const sortedEps = Object.keys(groups).sort((a, b) => b.localeCompare(a));

            return sortedEps.map(ep => `
                <div class="episode-group">
                    <div class="episode-header">${ep} <span class="ep-count">${groups[ep].length}</span></div>
                    <div class="episode-images">
                        ${groups[ep].map(img => renderImageCard(img)).join('')}
                    </div>
                </div>
            `).join('');
        }

        function renderImageCard(img) {
            // íŒŒì¼ëª…ì—ì„œ ì”¬ ë²ˆí˜¸ë§Œ ì¶”ì¶œ (ep019_scene_27.png -> scene_27)
            const shortName = img.name.replace(/ep\d+_/i, '').replace(/\.(png|jpg|jpeg|webp)$/i, '');
            return `
                <div class="image-card" onclick="viewImage('${img.url}', '${img.name}')">
                    <div class="image-wrapper">
                        <img src="${img.url}" alt="${img.name}" loading="lazy">
                    </div>
                    <div class="image-info">
                        <div class="image-name" title="${img.name}">${shortName}</div>
                    </div>
                </div>
            `;
        }

        function viewImage(url, name) {
            document.getElementById('modal-img').src = url;
            document.getElementById('modal-info').textContent = name;
            document.getElementById('modal').classList.add('show');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('show');
        }

        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                pipelineFilter = btn.dataset.value;
                renderImages();
            });
        });

        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal') closeModal();
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        fetchImages();

        // Tab switching for agent prompts
        document.querySelectorAll('.prompt-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.prompt-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                const tabName = tab.dataset.tab;
                document.querySelectorAll('.prompt-content').forEach(c => c.classList.add('hidden'));
                document.getElementById(`prompt-${tabName}`).classList.remove('hidden');
            });
        });

        // Toggle prompts
        function togglePrompts(header) {
            const body = header.nextElementSibling;
            const toggle = header.querySelector('.prompts-toggle');
            body.classList.toggle('open');
            toggle.classList.toggle('open');
        }
    </script>
</body>
</html>
