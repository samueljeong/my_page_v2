{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Step4 Video Assembly Input Schema",
  "description": "Step4 영상 조립용 입력 스키마",
  "type": "object",
  "required": ["step", "title", "cuts", "output_resolution", "fps"],
  "properties": {
    "step": {
      "type": "string",
      "const": "step4_video"
    },
    "title": {
      "type": "string",
      "description": "영상 제목"
    },
    "cuts": {
      "type": "array",
      "description": "영상 컷 목록",
      "items": {
        "type": "object",
        "required": ["cut_id", "image_path", "audio_path", "subtitle_path", "duration_seconds"],
        "properties": {
          "cut_id": {
            "type": "integer",
            "description": "컷 순서 번호"
          },
          "image_path": {
            "type": "string",
            "description": "이미지 파일 경로"
          },
          "audio_path": {
            "type": "string",
            "description": "오디오 파일 경로"
          },
          "subtitle_path": {
            "type": "string",
            "description": "자막 파일 경로 (SRT)"
          },
          "duration_seconds": {
            "type": "number",
            "description": "컷 길이(초)"
          }
        }
      }
    },
    "output_resolution": {
      "type": "string",
      "enum": ["720p", "1080p", "4k"],
      "default": "1080p",
      "description": "출력 해상도"
    },
    "fps": {
      "type": "integer",
      "enum": [24, 30, 60],
      "default": 30,
      "description": "프레임 레이트"
    },
    "background_music_path": {
      "type": "string",
      "description": "배경음악 파일 경로 (선택사항)"
    }
  }
}
